schema: '2.0'
stages:
  load_data:
    cmd: python src/stage_01_load_save_data.py -c=configs/config.yaml
    deps:
    - path: configs/config.yaml
      md5: a899116affa3e57437b26fc7525cc6b5
      size: 446
    - path: src/stage_01_load_save_data.py
      md5: 7c33c9e8a73e36ec10845ee333a09225
      size: 2050
    - path: src/utils/common.py
      md5: 946742f6d68c701687337c6ab038f8c6
      size: 816
    outs:
    - path: artifacts/raw_local_dir/data.csv
      md5: 7d814a1bda02145efe703f4e1c01847a
      size: 93599
  split_data:
    cmd: python src/stage_02_load_and_split.py
    deps:
    - path: artifacts/raw_local_dir/data.csv
      md5: 7d814a1bda02145efe703f4e1c01847a
      size: 93599
    - path: configs/config.yaml
      md5: a899116affa3e57437b26fc7525cc6b5
      size: 446
    - path: params.yaml
      md5: a4eb8c7e7e5c79badd2818a486ed4979
      size: 136
    - path: src/stage_02_load_and_split.py
      md5: 0ba257429c2627ae3c7e0bcd2f672251
      size: 3027
    - path: src/utils/common.py
      md5: 946742f6d68c701687337c6ab038f8c6
      size: 816
    params:
      params.yaml:
        base.random_state: 43
        base.test_size: 0.3
    outs:
    - path: artifacts/split_dir/test.csv
      md5: ef84accb5cb216709edb0abbae0ed438
      size: 30332
    - path: artifacts/split_dir/train.csv
      md5: 89d97317b200790ffea80c42f239763e
      size: 70301
  train_data:
    cmd: python src/stage_03_train.py
    deps:
    - path: artifacts/split_dir/train.csv
      md5: 89d97317b200790ffea80c42f239763e
      size: 70301
    - path: configs/config.yaml
      md5: 0f9c97afd9b2451ec48f9d2351978612
      size: 456
    - path: params.yaml
      md5: 6bccd0ebad795643a0afc0cd49258b06
      size: 136
    - path: src/stage_02_load_and_split.py
      md5: 0ba257429c2627ae3c7e0bcd2f672251
      size: 3027
    - path: src/utils/common.py
      md5: 946742f6d68c701687337c6ab038f8c6
      size: 816
    params:
      params.yaml:
        base.random_state: 43
        model_params.ElasticNet_params.alpha: 0.5
        model_params.ElasticNet_params.l1_ratio: 0.5
        model_params.target_column: quality
    outs:
    - path: artifacts/train_model_dir/ElasticNet.model
      md5: f666a87845266f57f444a5d3e3d2deb2
      size: 1393
  model_training:
    cmd: python src/stage_03_train.py
    deps:
    - path: artifacts/split_dir/train.csv
      md5: 89d97317b200790ffea80c42f239763e
      size: 70301
    - path: configs/config.yaml
      md5: a899116affa3e57437b26fc7525cc6b5
      size: 446
    - path: params.yaml
      md5: a4eb8c7e7e5c79badd2818a486ed4979
      size: 136
    - path: src/stage_02_load_and_split.py
      md5: 0ba257429c2627ae3c7e0bcd2f672251
      size: 3027
    - path: src/utils/common.py
      md5: 946742f6d68c701687337c6ab038f8c6
      size: 816
    params:
      params.yaml:
        base.random_state: 43
        model_params.ElasticNet_params.alpha: 0.3
        model_params.ElasticNet_params.l1_ratio: 0.7
        model_params.target_column: quality
    outs:
    - path: artifacts/train_model_dir/ElasticNet.model
      md5: 05c39d6dffecb84bf2305c6dfa0f6bc7
      size: 1393
  model_evaluation:
    cmd: python src/stage_04_evaluate.py
    deps:
    - path: artifacts/split_dir/test.csv
      md5: ef84accb5cb216709edb0abbae0ed438
      size: 30332
    - path: artifacts/train_model_dir/ElasticNet.model
      md5: 05c39d6dffecb84bf2305c6dfa0f6bc7
      size: 1393
    - path: configs/config.yaml
      md5: a899116affa3e57437b26fc7525cc6b5
      size: 446
    - path: params.yaml
      md5: a4eb8c7e7e5c79badd2818a486ed4979
      size: 136
    - path: src/stage_03_train.py
      md5: 06f82edf8dd2aaa1d0cc41789fcf0ebd
      size: 2912
    - path: src/utils/common.py
      md5: 946742f6d68c701687337c6ab038f8c6
      size: 816
    outs:
    - path: scores.json
      md5: bd722e12191dda81c7be3d8c5ec8b291
      size: 100
